(()=>{"use strict";const i=window.wp.blocks,e=window.wp.blockEditor,s=window.wp.data,c=window.wp.components;window.React;const t=window.ReactJSXRuntime,n=JSON.parse('{"UU":"vinoshipper-injector/add-to-cart"}');(0,i.registerBlockType)(n.UU,{edit:function({attributes:i,setAttributes:n}){var l;const{productId:d,accountId:o,includeQty:j,productUnits:N}=i;let r=null!==(l=wp.data.select("core").getSite().vs_injector_account_id)&&void 0!==l?l:null;o&&(r=o);const{producer:I,products:a,productsOptions:u}=(0,s.useSelect)((i=>({...i("vsInjectorProductItemStore").getAll()})));function L(){if(d){return a.find((i=>i.id===d))||{id:d,displayName:null}}return{id:null,displayName:null}}function w(){return I||{id:null,name:"N/A",img:null}}return(0,t.jsxs)("div",{...(0,e.useBlockProps)(),children:[(0,t.jsxs)(e.InspectorControls,{children:[(0,t.jsx)(c.PanelBody,{title:"Settings",children:(0,t.jsx)("fieldset",{children:(0,t.jsx)(c.SelectControl,{label:"Product",options:function(){if(u.length>0)return u;const i=[{label:"No Account ID Found",value:"0",disabled:!0}];return d&&i.push({label:`Product ID #${d}`,value:d,disabled:!1}),i}(),value:d,onChange:i=>{n(i?{productId:parseInt(i)}:{productId:null})},help:(0,t.jsxs)("div",{children:["Products associated to:",(0,t.jsx)("br",{}),w().name," (#",w().id,")"]})})})}),(0,t.jsx)(c.PanelBody,{title:"Display",children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)(c.ToggleControl,{label:"Include Quantity Selector",help:j?"Display the quantity selector.":"Do not display the quantity selector.",checked:j,onChange:i=>{n({includeQty:i})}}),(0,t.jsx)(c.TextControl,{label:"Product Units",help:'Replace the display of "Qty" in the quantity selector.',checked:N,disabled:!j,onChange:i=>{n({productUnits:i})}})]})})]}),(0,t.jsx)("div",{className:"vs-injector-block-editor-content",children:(0,t.jsxs)("div",{className:"vs-injector-block-add-to-cart",children:[(0,t.jsxs)("div",{className:"vs-injector-block-header",children:[(0,t.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzgwMzFhNzt9LmNscy0ye2ZpbGw6I2ZmZjt9LmNscy0ze2ZpbGw6dXJsKCNsaW5lYXItZ3JhZGllbnQpO308L3N0eWxlPjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iNDEyLjM0IiB5MT0iNjgxLjYxIiB4Mj0iNjc4LjI0IiB5Mj0iNDU4LjQ5IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAuMzUiLz48c3RvcCBvZmZzZXQ9IjAuMDgiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMC40NiIvPjxzdG9wIG9mZnNldD0iMC4yMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwLjYzIi8+PHN0b3Agb2Zmc2V0PSIwLjM0IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAuNzYiLz48c3RvcCBvZmZzZXQ9IjAuNDciIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMC44NyIvPjxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAuOTQiLz48c3RvcCBvZmZzZXQ9IjAuNzQiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMC45OSIvPjxzdG9wIG9mZnNldD0iMC44OSIgc3RvcC1jb2xvcj0iI2ZmZiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iNTEyIiBjeT0iNTEyIiByPSI1MTIiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik01MTIuNTgsNjUxLjQyLDQwNS43NSwyNDZBNDAsNDAsMCwwLDAsMzY3LDIxNi4xNkgzMjMuNzRhNDAuMDUsNDAuMDUsMCwwLDAtMzguNjcsNTAuNUw0MjQuMjEsNzgxLjI1YTY3LjIyLDY3LjIyLDAsMCwwLDY0Ljg4LDQ5LjY3aDQ3YTY3LjE1LDY3LjE1LDAsMCwwLDUzLjUtMjYuNjFDNTUzLjQzLDgwMyw1MzQuMzcsNzM0LjkxLDUxMi41OCw2NTEuNDJaIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNNzAxLjQ0LDIxNi4xNkg2NTguMTVBNDAuMDUsNDAuMDUsMCwwLDAsNjE5LjQyLDI0Nkw1MTIuNTgsNjUxLjQyYzIxLjc5LDgzLjQ5LDQwLjg1LDE1MS41Nyw3NywxNTIuODlBNjguMzIsNjguMzIsMCwwLDAsNjAxLDc4MS4yNUw3NDAuMSwyNjYuNjZBNDAuMDUsNDAuMDUsMCwwLDAsNzAxLjQ0LDIxNi4xNloiLz48L3N2Zz4K",className:"vs-icon",alt:"Vinoshipper"}),(0,t.jsx)("h2",{children:"Add To Cart"})]}),r&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{children:[L().displayName&&(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:L().displayName}}),!L().displayName&&L().id&&(0,t.jsxs)("span",{children:["Product: #",L()?.id]}),!d&&(0,t.jsx)("strong",{children:"Warning: No Product Set!"})]}),(0,t.jsxs)("ul",{children:[!j&&(0,t.jsx)("li",{children:"Will not display the quantity selector."}),N&&(0,t.jsxs)("li",{children:["Units: ",N]})]})]}),!r&&(0,t.jsxs)("div",{className:"vs-injector-block-error",children:[(0,t.jsx)("h3",{children:"Vinoshipper Account ID: Missing"}),(0,t.jsx)("p",{children:"Please set your Vinoshipper Account ID in the Vinoshipper settings before using any Vinoshipper blocks."})]})]})})]})}})})();