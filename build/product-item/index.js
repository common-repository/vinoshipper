(()=>{"use strict";const e=window.wp.blocks,i=window.wp.blockEditor,s=window.wp.data,t=window.wp.components;window.React;const c=window.ReactJSXRuntime,l=JSON.parse('{"UU":"vinoshipper-injector/product-item"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){var n;const{productId:o,accountId:d,cards:r,image:a,descForce:j}=e;let u=null!==(n=wp.data.select("core").getSite().vs_injector_account_id)&&void 0!==n?n:null;d&&(u=d);const{producer:N,products:I,productsOptions:h}=(0,s.useSelect)((e=>({...e("vsInjectorProductItemStore").getAll()})));function p(){if(o){return I.find((e=>e.id===o))||{id:o,displayName:null}}return{id:null,displayName:null}}function L(){return N||{id:null,name:"N/A",img:null}}return(0,c.jsxs)("div",{...(0,i.useBlockProps)(),children:[(0,c.jsxs)(i.InspectorControls,{children:[(0,c.jsx)(t.PanelBody,{title:"Settings",children:(0,c.jsx)("fieldset",{children:(0,c.jsx)(t.SelectControl,{label:"Product",options:function(){if(h.length>0)return h;const e=[{label:"No Account ID Found",value:"0",disabled:!0}];return o&&e.push({label:`Product ID #${o}`,value:o,disabled:!1}),e}(),value:o,onChange:e=>{l(e?{productId:parseInt(e)}:{productId:null})},help:(0,c.jsxs)("div",{children:["Products associated to:",(0,c.jsx)("br",{}),L().name," (#",L().id,")"]})})})}),(0,c.jsx)(t.PanelBody,{title:"Display",children:(0,c.jsxs)("fieldset",{children:[(0,c.jsx)(t.SelectControl,{label:"Catalog Layout",options:[{label:"List",value:"list"},{label:"Cards",value:"cards"}],value:r,help:(0,c.jsxs)("div",{children:["See"," ",(0,c.jsx)("a",{href:"https://developer.vinoshipper.com/docs/injector-product-catalog-layouts",target:"_blank",rel:"noreferrer",children:"Product Catalog -> Layouts"})," ","for more information."]}),onChange:e=>{l({cards:e})}}),(0,c.jsx)(t.ToggleControl,{label:"Display Product Image",help:a?"Display the Products image.":"Do not display the Products image.",checked:a,onChange:e=>{l({image:e})}}),(0,c.jsx)(t.ToggleControl,{label:"Force Description",help:j?'Always show the full description of product and not render the "Show/Hide Description" actions, regardless of the layout and the width of the element.':'Render "Show/Hide Description", except when in list layout and the element is larger than 504px.',checked:j,onChange:e=>{l({descForce:e})}})]})})]}),(0,c.jsx)("div",{className:"vs-injector-block-editor-content",children:(0,c.jsxs)("div",{className:"vs-injector-block-product-item",children:[(0,c.jsxs)("div",{className:"vs-injector-block-header",children:[(0,c.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzgwMzFhNzt9LmNscy0ye2ZpbGw6I2ZmZjt9LmNscy0ze2ZpbGw6dXJsKCNsaW5lYXItZ3JhZGllbnQpO308L3N0eWxlPjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iNDEyLjM0IiB5MT0iNjgxLjYxIiB4Mj0iNjc4LjI0IiB5Mj0iNDU4LjQ5IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAuMzUiLz48c3RvcCBvZmZzZXQ9IjAuMDgiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMC40NiIvPjxzdG9wIG9mZnNldD0iMC4yMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwLjYzIi8+PHN0b3Agb2Zmc2V0PSIwLjM0IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAuNzYiLz48c3RvcCBvZmZzZXQ9IjAuNDciIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMC44NyIvPjxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAuOTQiLz48c3RvcCBvZmZzZXQ9IjAuNzQiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMC45OSIvPjxzdG9wIG9mZnNldD0iMC44OSIgc3RvcC1jb2xvcj0iI2ZmZiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iNTEyIiBjeT0iNTEyIiByPSI1MTIiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik01MTIuNTgsNjUxLjQyLDQwNS43NSwyNDZBNDAsNDAsMCwwLDAsMzY3LDIxNi4xNkgzMjMuNzRhNDAuMDUsNDAuMDUsMCwwLDAtMzguNjcsNTAuNUw0MjQuMjEsNzgxLjI1YTY3LjIyLDY3LjIyLDAsMCwwLDY0Ljg4LDQ5LjY3aDQ3YTY3LjE1LDY3LjE1LDAsMCwwLDUzLjUtMjYuNjFDNTUzLjQzLDgwMyw1MzQuMzcsNzM0LjkxLDUxMi41OCw2NTEuNDJaIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNNzAxLjQ0LDIxNi4xNkg2NTguMTVBNDAuMDUsNDAuMDUsMCwwLDAsNjE5LjQyLDI0Nkw1MTIuNTgsNjUxLjQyYzIxLjc5LDgzLjQ5LDQwLjg1LDE1MS41Nyw3NywxNTIuODlBNjguMzIsNjguMzIsMCwwLDAsNjAxLDc4MS4yNUw3NDAuMSwyNjYuNjZBNDAuMDUsNDAuMDUsMCwwLDAsNzAxLjQ0LDIxNi4xNloiLz48L3N2Zz4K",className:"vs-icon",alt:"Vinoshipper"}),(0,c.jsx)("h2",{children:"Product Item"})]}),u&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("h3",{children:[p().displayName&&(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:p().displayName}}),!p().displayName&&p().id&&(0,c.jsxs)("span",{children:["Product: #",p()?.id]}),!o&&(0,c.jsx)("strong",{children:"Warning: No Product Set!"})]}),(0,c.jsxs)("ul",{children:["cards"===r&&(0,c.jsx)("li",{children:"Display in the Cards Layout."}),"list"===r&&(0,c.jsx)("li",{children:"Display in the List Layout."}),!a&&(0,c.jsx)("li",{children:"Will not display the product image."}),j&&(0,c.jsx)("li",{children:"Always show full description."})]})]}),!u&&(0,c.jsxs)("div",{className:"vs-injector-block-error",children:[(0,c.jsx)("h3",{children:"Vinoshipper Account ID: Missing"}),(0,c.jsx)("p",{children:"Please set your Vinoshipper Account ID in the Vinoshipper settings before using any Vinoshipper blocks."})]})]})})]})}})})();